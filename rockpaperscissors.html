<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <script>
            const rounds = 5;

            function computerPlay() {
                const gesture = ['rock','paper','scissors'];
                const random = Math.floor(Math.random() * gesture.length);
                return gesture[random];
            }

            function playRound(playerSelection, computerSelection) {
                playerSelection = playerSelection.toLowerCase();
                computerSelection = computerSelection.toLowerCase();
                if (playerSelection == computerSelection) {
                    return 'tie';
                }
                if (playerSelection == 'rock') {
                    if (computerSelection == 'paper') {
                        return 'computer';
                    } else {
                        return 'player';
                    }
                }
                if (playerSelection == 'paper') {
                    if (computerSelection == 'scissors') {
                        return 'computer';
                    } else {
                        return 'player';
                    }
                }
                if (playerSelection == 'scissors') {
                    if (computerSelection == 'rock') {
                        return 'computer';
                    } else {
                        return 'player';
                    }
                }

            }
            function game() {
                var playerScore = 0;
                var computerScore = 0;
                for (i = 1; i <= rounds; i++) {
                    var computerSelection = computerPlay();
                    var playerSelection;
                    do {
                        playerSelection = prompt('Rock, paper, or scissors?')
                    } while (!playerSelection)
                    winner = playRound(playerSelection, computerSelection);
                    if (winner == 'player') {
                        playerScore++;
                        console.log('You win, ' + playerSelection + ' beats ' + computerSelection);
                    } else if (winner == 'computer') {
                        computerScore++;
                        console.log('You lose, ' + computerSelection + ' beats ' + playerSelection);
                    } else {
                        console.log('Tie! You both chose ' + playerSelection)
                    } 
                    console.log('Player: ' + playerScore + '. Computer: ' + computerScore + '.')
                }
            }

            game();
        </script>
    </body>
</html>